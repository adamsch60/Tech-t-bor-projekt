<!doctype html>

<html>

<head>    
 <title>RoboClash</title>     <meta charset="UTF-8">     <meta
name="description" content="Free Robot Programmer Gaming site">     <meta
name="keywords" content="robot,RoboClash,programming,game">     <meta
name="author" content="Ádám Schweitzer,Patrick Nanys">     <link
rel="stylesheet" type="text/css" href="robostyle.css">    

    <link rel="shortcut icon" type="image/png" href="/favicon.png" />
 <script src="https:
//ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script>
  $(document).ready(function() {  var flashHandler = $('#error_message');

    flashHandler.on('flash', function(event, message){
            console.log("wow");    var flash = $('<div class="flash">');
        flash.text(message);
        if(message!="")flashHandler.css("visibility","visible");
        $('#error_message').append(flash);
    });


    $.get('/get_flashes', function(data){
  console.log("Data: " + data);flashHandler.trigger('flash', [data]);
});
      /* $.ajax('/get_flashes',{
        'success' : function(res){console.log("success");
            flashHandler.trigger('flash', [res.messages]);
            console.log("success2");
        }})*/
    });
</script>
<script>   /*$(document).ready(function(){
$("#Register").click(function(){                 var data={email:
$("#email").val() ,password: $("#password").val(), submit: "register"}

                $.ajax({
                    type: "POST",
                    url: "/sign",
                    data: data,
                    success: function(res) {
                        if(res=="Email"){$("#error_message").text("Your email address already have a account assigned to it.");$("#error_message").css("visibility","visible");}
                        else   window.location = "/Main";
                    }

                });
            });
            $("#Login").click(function(){
                //console.log("yey");
                var data={email: $("#email").val() ,password: $("#password").val(), submit: "login"}

                $.ajax({
                    type: "POST",
                    url: "/sign",
                    data: data,
                    success: function(res) {
                        if(res=="Email"){$("#error_message").text("The given email address does not have a account assigned to it.");$("#error_message").css("visibility","visible");}
                        else if(res=="Password"){$("#error_message").text("Wrong password.");$("#error_message").css("visibility","visible");}else  window.location = "/Main";
                    }

                });
        });});*/



    </script>




</head>

<body>
    
    <header>    
        <h1>ROBOCLASH</h1>
    </header>
    
    <nav>
        <ul>
            <li><a class="current" href="/">Home</a></li>
            <li><a href="/News">News</a></li>
            <li><a href="/About">About</a></li>
        </ul>
    </nav>

    <!-- show any messages that come back with authentication 
-->

    <div id="error_message" style="
    position: absolute;
    top: 275px;
    left: 150px;
    background: #424141;
    padding: 10px;
    width: 315px;
    /* height: 100px; */
    color: white;
    text-align: center;
    visibility: hidden;
    "> 
    </div>
    


<!--    <div class="outer_login">
        <span class="login">
            <form class="input" action="/sign" method="post">
                <div class=wrapper2>        
                    <input type="text" id="email" required=''>
                    <label alt='Email' placeholder='Type your Email'></label>
                    <br>
                    <input type="password" id="password" required=''>
                    <label alt='Password' placeholder='Type your Password'></label>
                    <br><br>
                    <div class=wrapper>
                        <input class="submit button" id="Login" style="position: absolute;" value="login">
                        <input class="submit button register" id="Register"  value="register" value="Register">
                    </div>
                </div>
            </form>
        </span>
    </div>-->


 
    <div class="outer_login">
        <span class="login">
            <form class="input" action="/sign" method="post">
                <div class=wrapper2>        
                    <input type="text" name="username" maxlength="20" required=''>
                    <label alt='Username' placeholder='Type your Username'></label>
                    <br>
                    <input type="password" name="password" required=''>
                    <label alt='Password' placeholder='Type your Password'></label>
                    <br><br>
                    <div class=wrapper>
                        <input class="submit button" type="submit" style="position: absolute;" name="submit" value="login">
                        <input class="submit button register" type="submit" name="submit" value="register" value="Register">
                    </div>
                </div>
            </form>
        </span>
    </div>




    <div class="patreon">
        <a href="https://www.patreon.com/" target="_blank"><img src="patreon.png" class="social_image"></a>
    </div>
    <div class="facebook">
        <a href="https://www.facebook.com/" target="_blank"><img src="facebook.png" class="social_image"></a>
    </div>
    <div class="youtube">
        <a href="https://www.youtube.com/watch?v=d9TpRfDdyU0" target="_blank"><img src="youtube.png" class="social_image"></a>
    </div>

    <div class="notes">
        <ul id="notes">
        </ul>
    </div>

    <div id="news_background" 
        onclick="$(this).css('visibility','hidden')" 
        style="
        background: rgba(165, 165, 165, 0.31);
        top: 0px;
        position: absolute;
        width: 100%;
        height: 100%;
        left: 0px;
        z-index: 1001;
        visibility: hidden;
    ">
    <div  style="
        z-index: 1003;
        background: #191919;
        width: 70%;
        height: 55%;
        left: 50%;
        top: 50%;
        position: absolute;
        transform: translate(-50%,-50%);
        color: white;
        font-family: 'Roboto Condensed', sans-serif;
        /*text-align: center;*/
        padding: 20px;
        font-size: 20px;
        overflow-y: auto;       
       display: flex;
justify-content: center; /* align horizontal */
align-items: center; /* align vertical */

    "><div id="news" style="vertical-align: middle; display: inline-block; line-height: normal;">
        
    </div></div>
    </div>

    <script>
        //var newsopen=false;

            var news;
      function myFunction(x){
                $("#news").html(news[x].detail);
                $("#news_background").css('visibility','visible');
            }


        $(document).ready(function() { 



/*           var flashHandler = $('#error_message');
            flashHandler.on('flash', function(event, message){
                console.log("wow");    
                var flash = $('<div class="flash">');
                flash.text(message);
                if(message!="")flashHandler.css("visibility","visible");
                $('#error_message').append(flash);
            });*/
                    // myFunction
      
            $.get('/get_news', function(data){
            //console.log("Data: " + data);flashHandler.trigger('flash', [data]);
            news=data;
            var notes=$('#notes');
            for(var x=0;x<news.length;x++){
                var flash = $('<li onclick="myFunction('+x+')">');
                flash.text(news[x].title);
                notes.append(flash);
            }
            });




      /* $.ajax('/get_flashes',{
        'success' : function(res){console.log("success");
            flashHandler.trigger('flash', [res.messages]);
            console.log("success2");
        }})*/
        });
    </script>

</body>

</html>
