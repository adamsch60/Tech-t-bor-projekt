<!doctype html>
<html>
<head>
    <title>RoboClash</title>
    <meta charset="UTF-8">
    <meta name="description" content="Free Robot Programmer Gaming site">
    <meta name="keywords" content="robot,RoboClash,programming,game">
    <meta name="author" content="Ádám Schweitzer,Patrick Nanys">
    <link rel="stylesheet" type="text/css" href="robostyle.css">
    <style>
        .nav {
            text-transform: uppercase;
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            position: absolute;
            background: #4F9C45;
            width: 200px;
        }
        
        .nav li {
            border-bottom: #424141 solid 2px;
        }
        
        .nav li a {
            display: block;
            color: white;
            text-align: left;
            padding: 16px;
            text-decoration: none;
            line-height: 20px;
        }
        
        .nav li a:hover {
            background-color: #1C5B26;
        }
        
        .naval {
            text-transform: uppercase;
            display: flex;
            position: absolute;
            top: 162px;
        }
        
        .naval a {
            width: 116px;
            background: #4F9C45;
            display: block;
            color: white;
            text-align: left;
            padding: 16px;
            text-decoration: none;
            line-height: 20px;
        }
        
        .naval:hover a {
            background-color: #1C5B26;
        }
        
        .naval:hover .navtri {
            border-left: 27px solid #1C5B26;
            border-top: 27px solid #1C5B26;
        }
        
        .navtri {
            position: relative;
            display: flex;
            width: 0;
            height: 0;
            border-left: 27px solid #4F9C45;
            border-top: 27px solid #4F9C45;
            border-bottom: 27px solid transparent;
            border-right: 27px solid transparent;
        }
        
        .their_code {
            position: absolute!important;
            top: 250px;
            left: 300px;
            bottom: 50px;
            width: 75%;
            overflow-X: hidden;
            overflow-Y: auto;
            resize: none
        }
        
        .compile {
            text-decoration: none;
            text-align: center;
            border: none;
            color: white;
            background: #424141;
            border-radius: 10px 10px 0px 0px;
            position: absolute;
            top: 250px;
            left: calc(300px + 75%);
            transform: translateX(-100%) translateY(-100%);
            width: 200px;
            font-size: 12px;
        }

        .compile:hover {
            background: #4F9C45;
        }

        .startnewcode {
            text-decoration: none;
            text-align: center;
            border: none;
            color: white;
            background: #424141;
            border-radius: 10px 10px 0px 0px;
            position: absolute;
            top: 250px;
            left: calc(100px + 75%);
            transform: translateX(-100%) translateY(-100%);
            width: 200px;
            font-size: 12px;
        }

        .startnewcode:hover {
            background: #4F9C45;
        }
        
        .outer_play:before {
            content: '';
            transform-origin: 100% 50%;
            transform: scale(0.5, 1);
            position: relative;
            display: flex;
            width: 0;
            height: 0;
            border-right: 50px solid #4F9C45;
            border-top: 50px solid transparent;
            border-bottom: 50px solid transparent;
        }
        
        .outer_play:after {
            content: '';
            /*position: inline;*/
            position: relative;
            display: flex;
            transform-origin: 0% 50%;
            transform: scale(0.5, 1);
            width: 0;
            height: 0;
            border-left: 50px solid #4F9C45;
            border-top: 50px solid transparent;
            border-bottom: 50px solid transparent;
        }
        
        .outer_play {
            display: flex;
            background: transparent;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .outer_play:hover::before {
            border-right-color: #1C5B26;
        }
        
        .outer_play:hover::after {
            border-left-color: #1C5B26;
        }
        
        .button {
            font-weight: bold;
            text-decoration: none;
            text-align: center;
            background-color: #4F9C45;
            border: none;
            color: white;
            line-height: 100px;
            font-size: 46px;
            width: 200px;
        }
        
        .outer_play:hover div {
            background-color: #1C5B26;
        }
        .outer_play a {
            display: block;
            color: white;
            text-decoration: none;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
       $(document).ready((function() {
        $(".compile").click(function() {
        var data={code: editor.getValue()};
        $.ajax({
        type: "POST",
        url: "/code",
        data: data,
        success: function(res) {
          console.log(res);
          var sthh="";sthh=res;
    var sth =res;//JSON.parse('['+sthh+']');
          console.log(sth);
          if(sth[0]==0){
            $(".compile").css("background-color","red");
            $(".error").css("visibility","visible");
            $(".error").text(sth[1]);
            
          }else{
            $(".compile").css("background-color","green");
            $(".error").css("visibility","hidden");
          }
        }
        });
    });}));
    </script>
</head>


<body>


    <ul class="nav">
        <li><a class="current" href="/Main">Code</a></li>
        <li><a href="/Shop">Shop</a></li>
        <li><a href="/Ladder">Ladder</a></li>
    </ul>
    <div class="naval"><a href="/Doc">Doc</a>
        <div class="navtri"></div>
    </div>


    <div class="outer_play">
        <div id="playB" class="button">
            <a href="/Play">
                <b>PLAY</b>
            </a>
        </div>
    </div>

    <div class="outer_play" style="top: 0px;left: 82%;transform: scale(0.3, 0.3);">
        <div id="playB" class="button" style="font-size: 36px;">
            <a href="/logout">
                Log Out
            </a>
        </div>
    </div>

    <div class="patreon_side" id="firstSocial">
        <a href="https://www.patreon.com/" target="_blank"><img src="patreon.png"></a>
    </div>
    <div class="facebook_side" id="secondSocial">
        <a href="https://www.facebook.com/" target="_blank"><img src="facebook.png"></a>
    </div>
    <div class="youtube_side" id="thirdSocial">
        <a href="https://www.youtube.com/" target="_blank"><img src="youtube.png"></a>
    </div>

    <div class="error" style="visibility: hidden; background: #e55349; position: absolute; width: 50%; height: 50px; top: 150px;left: 350px;text-align: center;line-height: 50px; overflow-y: auto"  >Hiba</div>

    <form  class="code_field" >
       <!-- <button type="button" class="startnewcode" onclick="">Start new code</button>-->
        <button type="button" class="compile" onclick="">Compile</button>
        <div class="their_code" name="their_code" id="editor" rows="10" cols="30">Your Java code.</div>
    </form>
   <script src="src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script> 
    <script>
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/chaos");
        editor.session.setMode("ace/mode/java");
        editor.setShowPrintMargin(false);
    </script> 

</body>
<script type="text/javascript">
    window.onload = function(){
        //editor.setValue("OHOHOHOHOHOHOOOO");
       $.ajax({
type: "POST",
url: "/get_code",
data: "",
success: function(res) {
editor.setValue(res);
//editor.setValue("OHOHOHOHOHOHOOOO");
}
})
    };
</script>
</html>
